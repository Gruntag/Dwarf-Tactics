import{c as se,d as pe,r as u,v as ve,a as m,w as W,o as ge,b as he,e as p,f as e,m as F,g as i,u as n,h as d,t as a,n as h,F as Y,i as Z,j as J,k as ye,l as x,p as be,s as Q,_ as _e}from"./index-Do8rNvoV.js";import{R as we,g as X,a as ke}from"./resources-Dms7kciv.js";import{A as Ce}from"./arrow-left-CLjQ6WBA.js";import{T as Le}from"./trophy-zAF391re.js";import{T as O}from"./tram-front-BTxH15ut.js";import{T as ee}from"./timer-D4Xz6s24.js";import{F as te}from"./flame-Dmv7iY5G.js";import{S as Me}from"./sparkles-Hh5lucaJ.js";import{H as Te}from"./heart-pulse-BvNg2HDA.js";/**
 * @license lucide-vue-next v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=se("CrownIcon",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-vue-next v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=se("LayoutGridIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Re={class:"relative min-h-screen overflow-hidden bg-slate-950 py-10"},$e={class:"relative z-10 mx-auto flex w-full max-w-6xl flex-col gap-8 px-4 lg:flex-row"},De={class:"flex-1 space-y-6"},Ge={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Ie={class:"flex items-center gap-2 rounded-lg border border-primary/30 bg-card/80 px-4 py-2 text-sm text-foreground backdrop-blur"},Ae={class:"flex flex-col leading-tight text-right"},je={class:"text-[10px] uppercase tracking-widest text-muted-foreground"},Fe={class:"text-lg font-semibold text-foreground"},Oe={class:"relative overflow-hidden rounded-3xl border border-primary/15 bg-slate-900/70 shadow-[0_20px_60px_rgba(15,23,42,0.55)] backdrop-blur"},Be={class:"relative px-6 py-6"},Ue={class:"mt-6 flex flex-col gap-6 lg:flex-row"},He={class:"flex-1"},ze={class:"rounded-2xl border border-border/60 bg-slate-950/60 p-5"},Ve={class:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground"},Ke={class:"flex items-center gap-2"},Ne={class:"flex items-center gap-2"},Pe={class:"flex items-center gap-2"},qe={class:"flex items-center gap-2"},We={class:"mt-4 h-2 w-full overflow-hidden rounded-full bg-slate-800/80"},Ye={class:"mt-5 flex justify-center"},Ze={key:1,class:"cart-icon"},Je={key:1,class:"absolute inset-0 z-20 flex items-center justify-center bg-slate-950/85 backdrop-blur-sm"},Qe={class:"flex max-w-sm flex-col items-center gap-4 rounded-2xl border border-primary/30 bg-slate-900/85 px-8 py-10 text-center shadow-[0_24px_60px_rgba(14,23,42,0.6)]"},Xe={class:"text-2xl font-bold text-foreground"},et={class:"text-sm text-muted-foreground"},tt={class:"w-full max-w-sm space-y-4"},st={class:"rounded-2xl border border-border/60 bg-slate-950/60 p-5"},rt={class:"mt-3 space-y-2 text-sm text-muted-foreground"},at={class:"w-full max-w-xs space-y-6"},ot={class:"rounded-3xl border border-primary/15 bg-slate-900/60 p-6 shadow-[0_18px_50px_rgba(15,23,42,0.45)] backdrop-blur"},nt={class:"mt-4 space-y-3 text-sm text-muted-foreground"},lt={class:"flex items-center justify-between"},it={class:"flex items-center gap-2"},dt={class:"font-semibold text-foreground"},ct={class:"flex items-center justify-between"},ut={class:"flex items-center gap-2"},xt={class:"font-semibold text-foreground"},ft={class:"flex items-center justify-between"},mt={class:"flex items-center gap-2"},pt={class:"font-semibold text-foreground"},vt={class:"flex items-center justify-between"},gt={class:"flex items-center gap-2"},ht={class:"font-semibold text-foreground"},yt={class:"flex items-center justify-between"},bt={class:"flex items-center gap-2"},_t={class:"font-semibold text-foreground"},wt={class:"rounded-3xl border border-primary/15 bg-slate-900/60 p-6 shadow-[0_18px_50px_rgba(15,23,42,0.45)] backdrop-blur"},kt={class:"mt-3 text-sm text-muted-foreground"},_=20,w=18,o=32,Ct=220,Lt=90,B=22,R="lootTrain",Mt="group inline-flex items-center gap-2 rounded-md border border-border bg-card/70 px-4 py-2 text-sm font-semibold text-foreground transition hover:bg-card focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",Tt="inline-flex items-center justify-center gap-2 rounded-md bg-gradient-to-r from-primary via-accent to-primary px-6 py-2 text-sm font-semibold text-primary-foreground shadow-lg transition hover:from-primary/90 hover:via-accent/90 hover:to-primary/80 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-accent",St=pe({__name:"MinecartExtraction",setup(Et){const re=ye(),l=u("ready"),$=we[R],D=u(X(R)),c=u([]),k=u({x:1,y:0}),G=u({x:1,y:0}),y=u({x:5,y:5}),f=u(0),M=u(0),b=u(null),v=ve([]),I=m(()=>Math.max(Lt,Ct-f.value*6)),ae=m(()=>({width:`${_*o}px`,height:`${w*o}px`}));m(()=>c.value[0]);const U=m(()=>c.value.length),oe=m(()=>Math.min(100,Math.round(f.value/B*100)));let T=null,C=null,L=0,A=!1;const ne=()=>{re.push("/")},le=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`id-${Math.random().toString(16).slice(2)}`,H=(s,t)=>{v.push({id:le(),text:s,life:900,maxLife:900,position:t})},S=()=>{T!==null&&(window.clearInterval(T),T=null),C!==null&&(cancelAnimationFrame(C),C=null)},ie=s=>c.value.some(t=>t.x===s.x&&t.y===s.y),z=()=>{const s=[];for(let t=0;t<w;t+=1)for(let r=0;r<_;r+=1)ie({x:r,y:t})||s.push({x:r,y:t});return s.length?s[Math.floor(Math.random()*s.length)]:{x:0,y:0}},V=()=>{S(),l.value="ready",c.value=[{x:Math.floor(_/2),y:Math.floor(w/2)},{x:Math.floor(_/2)-1,y:Math.floor(w/2)},{x:Math.floor(_/2)-2,y:Math.floor(w/2)}],k.value={x:1,y:0},G.value={x:1,y:0},f.value=0,M.value=0,b.value=null,v.splice(0,v.length),y.value=z(),A=!1},E=s=>{const r={up:{x:0,y:-1},down:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}}[s],g=k.value;g.x===-r.x&&g.y===-r.y||(G.value=r)},K=s=>{if(l.value==="running")switch(s.key.toLowerCase()){case"arrowup":case"w":E("up");break;case"arrowdown":case"s":E("down");break;case"arrowleft":case"a":E("left");break;case"arrowright":case"d":E("right");break}},j=s=>{S(),l.value=s,s==="victory"?Q({title:"Minecart Extraction Complete",description:"Gruntag delivers every cart safely.",variant:"success"}):s==="defeat"&&Q({title:"Train Derailed",description:"Gruntag's loot spills across the tracks.",variant:"destructive"})},de=()=>{if(l.value!=="running")return;k.value={...G.value};const s=c.value[0],t={x:s.x+k.value.x,y:s.y+k.value.y};if(t.x<0||t.x>=_||t.y<0||t.y>=w){b.value=t,j("defeat");return}if(c.value.some(q=>q.x===t.x&&q.y===t.y)){b.value=t,j("defeat");return}M.value+=1;const r=[{...t},...c.value];t.x===y.value.x&&t.y===y.value.y?(f.value+=1,H("Car Linked!",t),y.value=z()):r.pop(),c.value=r,f.value>=B&&j("victory")},ce=s=>{for(let t=v.length-1;t>=0;t-=1){const r=v[t];r.life-=s,r.life<=0&&v.splice(t,1)}},N=s=>{if(l.value!=="running")return;L||(L=s);const t=s-L;L=s,ce(t),C=requestAnimationFrame(N)},P=()=>{S(),L=0,T=window.setInterval(de,I.value),C=requestAnimationFrame(N)},ue=()=>{V(),l.value="running",P(),H("All aboard!",c.value[0])};W(()=>f.value,()=>{l.value==="running"&&P()}),W(()=>l.value,s=>{s==="running"&&(D.value=X(R)),s==="victory"&&!A&&(D.value=ke(R),A=!0)}),ge(()=>{V(),window.addEventListener("keydown",K)}),he(()=>{window.removeEventListener("keydown",K),S()});const xe=m(()=>{switch(l.value){case"victory":return"Legendary Delivery";case"defeat":return"Train Derailed";default:return"Minecart Extraction"}}),fe=m(()=>{switch(l.value){case"victory":return"Every cart of treasure reaches the vault. Gruntag is pleased.";case"defeat":return"The cars scatter across the cavern floor. Gather yourself and try again.";default:return"Guide Gruntag's minecart convoy through the tunnels. Gather treasure carts, avoid crashing into the cavern walls or yourself, and collect 22 carts to claim victory."}}),me=m(()=>{switch(l.value){case"victory":return"Run the Train Again";case"defeat":return"Rebuild the Train";default:return"Start the Heist"}});return(s,t)=>(x(),p("div",Re,[t[17]||(t[17]=e("div",{class:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(59,130,246,0.15),_transparent_60%)]"},null,-1)),t[18]||(t[18]=e("div",{class:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(251,191,36,0.12),_transparent_55%)]"},null,-1)),e("main",$e,[e("div",De,[e("div",Ge,[e("button",{type:"button",class:F(Mt),onClick:ne},[i(n(Ce),{class:"h-4 w-4 transition-transform group-hover:-translate-x-0.5"}),t[0]||(t[0]=d(" Return ",-1))]),e("div",Ie,[i(n(Le),{class:"h-5 w-5 text-accent"}),e("div",Ae,[e("span",je,a(n($).plural),1),e("span",Fe,a(D.value),1)])])]),e("section",Oe,[t[7]||(t[7]=e("div",{class:"absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(59,130,246,0.12),_transparent_65%)]"},null,-1)),e("div",Be,[t[6]||(t[6]=e("header",{class:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},[e("div",null,[e("p",{class:"text-xs font-semibold uppercase tracking-[0.3em] text-primary/70"}," Minecart Extraction "),e("h1",{class:"mt-1 text-3xl font-bold tracking-tight text-foreground sm:text-4xl"}," Cavern Rail Run ")]),e("div",{class:"text-sm text-muted-foreground sm:max-w-md"},[e("p",null," Snake the rails through Gruntag's vaults. Link treasure carts, keep the train intact, and don't collide with your own loot. ")])],-1)),e("div",Ue,[e("div",He,[e("div",ze,[e("div",Ve,[e("div",Ke,[i(n(O),{class:"h-4 w-4 text-emerald-400"}),d(" Cars Linked "+a(f.value)+" / "+a(B),1)]),e("div",Ne,[i(n(Ee),{class:"h-4 w-4 text-sky-400"}),d(" Train Length "+a(U.value),1)]),e("div",Pe,[i(n(ee),{class:"h-4 w-4 text-amber-300"}),d(" Pace "+a(I.value)+" ms ",1)]),e("div",qe,[i(n(te),{class:"h-4 w-4 text-rose-400"}),d(" Distance "+a(M.value),1)])]),e("div",We,[e("div",{class:"h-full rounded-full bg-gradient-to-r from-emerald-400 via-emerald-500 to-sky-500 transition-all duration-300",style:h({width:`${oe.value}%`})},null,4)])]),e("div",Ye,[e("div",{class:"board relative overflow-hidden rounded-3xl border border-border/50 bg-slate-900/80 shadow-[0_20px_50px_rgba(15,23,42,0.45)]",style:h(ae.value)},[t[1]||(t[1]=e("div",{class:"absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(59,130,246,0.08),_transparent_70%)]"},null,-1)),e("div",{class:"absolute inset-0 bg-[linear-gradient(to_right,rgba(30,41,59,0.28)_1px,transparent_1px),linear-gradient(to_bottom,rgba(30,41,59,0.28)_1px,transparent_1px)]",style:h({backgroundSize:`${o}px ${o}px`})},null,4),(x(!0),p(Y,null,Z(c.value,(r,g)=>(x(),p("div",{key:`segment-${g}`,class:F(["train-segment",g===0?"head":"cart"]),style:h({width:`${o}px`,height:`${o}px`,transform:`translate(${r.x*o}px, ${r.y*o}px)`})},[g===0?(x(),be(n(Me),{key:0,class:"h-4 w-4 text-amber-200"})):(x(),p("span",Ze))],6))),128)),e("div",{class:"loot-cart",style:h({width:`${o-6}px`,height:`${o-6}px`,transform:`translate(${y.value.x*o+3}px, ${y.value.y*o+3}px)`})},null,4),b.value?(x(),p("div",{key:0,class:"crash-marker",style:h({width:`${o}px`,height:`${o}px`,transform:`translate(${b.value.x*o}px, ${b.value.y*o}px)`})},null,4)):J("",!0),(x(!0),p(Y,null,Z(v,r=>(x(),p("div",{key:r.id,class:"floating-message",style:h({transform:`translate(${r.position.x*o}px, ${r.position.y*o}px)`,opacity:Math.max(0,r.life/r.maxLife)})},a(r.text),5))),128)),l.value!=="running"?(x(),p("div",Je,[e("div",Qe,[i(n(O),{class:"h-8 w-8 text-accent"}),e("h2",Xe,a(xe.value),1),e("p",et,a(fe.value),1),e("button",{type:"button",class:F(Tt),onClick:ue},a(me.value),1)])])):J("",!0)],4)])]),e("aside",tt,[t[5]||(t[5]=e("div",{class:"rounded-2xl border border-border/60 bg-slate-950/60 p-5"},[e("h3",{class:"text-sm font-semibold uppercase tracking-[0.22em] text-muted-foreground"}," Controls "),e("ul",{class:"mt-3 space-y-2 text-sm text-muted-foreground"},[e("li",null,"Use arrow keys or WASD to steer Gruntag through the tunnels."),e("li",null,"Every loot cart adds a car to the train and increases the speed."),e("li",null,"Colliding with the cavern wall or your own carts ends the run.")])],-1)),e("div",st,[t[4]||(t[4]=e("h3",{class:"text-sm font-semibold uppercase tracking-[0.22em] text-muted-foreground"}," Rail Strategies ",-1)),e("ul",rt,[t[2]||(t[2]=e("li",null,"Keep a wide loop so the train has room for sudden turns.",-1)),t[3]||(t[3]=e("li",null,"Use the outer edges for travel and the center for pickups.",-1)),e("li",null,"Link 22 carts to complete the haul and earn a "+a(n($).singular.toLowerCase())+".",1)])])])])])])]),e("aside",at,[e("div",ot,[t[13]||(t[13]=e("h3",{class:"text-lg font-semibold text-foreground"},"Train Metrics",-1)),e("dl",nt,[e("div",lt,[e("dt",it,[i(n(O),{class:"h-4 w-4 text-emerald-400"}),t[8]||(t[8]=d(" Linked Carts ",-1))]),e("dd",dt,a(f.value),1)]),e("div",ct,[e("dt",ut,[i(n(Se),{class:"h-4 w-4 text-amber-300"}),t[9]||(t[9]=d(" Train Length ",-1))]),e("dd",xt,a(U.value),1)]),e("div",ft,[e("dt",mt,[i(n(ee),{class:"h-4 w-4 text-amber-300"}),t[10]||(t[10]=d(" Tick Rate ",-1))]),e("dd",pt,a(I.value)+" ms",1)]),e("div",vt,[e("dt",gt,[i(n(te),{class:"h-4 w-4 text-rose-400"}),t[11]||(t[11]=d(" Distance ",-1))]),e("dd",ht,a(M.value),1)]),e("div",yt,[e("dt",bt,[i(n(Te),{class:"h-4 w-4 text-emerald-400"}),t[12]||(t[12]=d(" Status ",-1))]),e("dd",_t,a(l.value==="running"?"Rolling":l.value==="victory"?"Vaulted":"Idle"),1)])])]),e("div",wt,[t[16]||(t[16]=e("h3",{class:"text-lg font-semibold text-foreground"},"Victory Terms",-1)),e("p",kt,[t[14]||(t[14]=d(" The train must haul ",-1)),t[15]||(t[15]=e("strong",null,"22 carts",-1)),d(" without derailing. Each pickup accelerates the convoy, testing your reflexes. Keep Gruntag safe and the loot secure to earn a "+a(n($).singular.toLowerCase())+". ",1)])])])])]))}}),Bt=_e(St,[["__scopeId","data-v-60544223"]]);export{Bt as default};
