import{c as be,d as Je,r as y,l as te,m as Ge,a as w,b as u,e as X,u as P,h as Ce,p as oe,q as M,F as z,f as se,t as D,i as Ne,j as v,n as ne,s as Ze,_ as Ie}from"./index-BvOaJSXW.js";import{C as Ve}from"./castle-B-WnVHdj.js";import{A as We}from"./arrow-left-CxawHIp-.js";/**
 * @license lucide-vue-next v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=be("BrainIcon",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-vue-next v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=be("RotateCcwIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Le="data:image/png;base64,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",Ye="data:image/png;base64,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",Xe="data:image/png;base64,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",ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAQAAABpN6lAAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAQKSURBVHja7ZzBSxRRHMe/iu6GpEkGohWJaUp4KUIPgQfxkgZhYNrR7S/w1EU6hIF3K7yUx7QOnaSDIhHkQbSQDiaWSJtSYKFrhzZlX4dx2tV9Ozvz3rz5TezvM4edeTu/ed/fd997zhtnBmAYhmEYhmEYhmEYhmEYhmGYgqFIK/YWLuX4bh4vISTl1RhApcMxtzGO79K6etCaI+Y9nkvrMs4QhMMyKImIYtUxRkBgFVFJ5KBjzBBF+sCSo6g5SURb3vQFBNokkXOOEUvqSRRrGBDx/G0UbpDt5b0ul5RoGHBAE85mbK3jk4uYjiznU5h1EdeAuoytOFb05WuwbDXAUZHJiN0sFyQR7XajTYqjJNMNul0SuWB9N3IoZtSOWFZPwocWkIMWfM4qO+Yq8hl+Z5WdNiXTnAFR1CtG1hrTJEFnEJRS5mKfiMT3ElcjmZujExvQg6q8+8Qk1RYjljeuCj2+G+B7FziDD3iFfYc9atEtLX+Mbmw6Sr2GmvAbANS4+C1lFOG6/2Ly4nsX+N9gA6gFUKMzHf6IJgA4hQoi8QlsWSsraFY9hs4gWG59bNky6ChXD9XpArvUef9jTT1UpwtcwJx91lOJ24F2hASeYdve+IE2ybwjEBrx1Z7DnRNrIii+iPPpueM3XKRJnsyCMKVPYEHY0g/YgjCmDwBN2LBl1Yu4sfTjoj6d/oZ1FqKLzl+BwxbM2hcyKtBoyOdVJOzVTXQQXxCUWLABEdDi068P+NcCAKAPEwAQwX1DHt/DH2ulH5N+HdPP6wFJ6yOCu4YMGLYNSPp3zIKfDbIB1AKoYQOoBVDDBlALoIYNoBZADRtALYAaNoBaADVsALUAatgAagHUsAHUAqhhA6gFUMMGUAughg2gFkANG0AtgBo2gFoANWwAtQBqDDwvkMKiIbEpo1boMxbYLTJj1KnKiAWWvoBQfChFgl/3CLXijfXIazEm0GnI4xn0290giXbMG6pGgWrE7d/mgdEbJYfTbWAz2OcLnSjFa1vWDZEyakBK9KYteKvz0LSfPLIlNYsdo+kLIcSuaElb8FBfvP4YEMMTa6UUnTgegN+/MIM9e+MOnlIbsI0TAWSdix3HF3IEYgDJ2zv8y8C3M8HLOBlg1j/xLsDanDkYkKaND3+ZTKcHQk0KfjLEBlALoIYNoBZATcEb4P08YAC9KM0uvikrNMZeenX6UPELjJutuSvQyx4qS5e3hLx2gatm/fUBjwq9GhD+McOjQsW5QB36qBM9wiTWleIUDWjACHXGR1hUNCD8TdowBW+AYhdIGPvvjyoJxThFA+ZxhTpjnyj4LuDVgDi1YGqFZZgiP9l1Wqa8vnNR5ZpqucEXceqxH6KXOzEMwzAMwzAMwzAh5i8e1y31wrrwDwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wNy0yNlQxOTo1OTozMCswMjowML33qNkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDctMjZUMTk6NTk6MzArMDI6MDDMqhBlAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",He="/assets/white-queen-lMhzZbsP.png",xe="data:image/png;base64,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",_e="/assets/black-pawn-B4eI0IEm.png",$e="/assets/black-knight-DogtFm7e.png",et="/assets/black-bishop-vEZwSYPe.png",tt="/assets/black-rook-Cxc1ShIO.png",ot="/assets/black-queen-DBfkUp2D.png",st="/assets/black-king-DVJJWDD8.png",nt="/assets/texture-grass-field-CGRrNP-3.jpg",at="/assets/photo-ground-texture-pattern-DfYm4pYN.jpg",lt={class:"tactics-page"},ct={class:"top-bar"},At={class:"title-cluster"},it={class:"top-actions"},rt={class:"playfield"},ut={class:"board-panel"},ht={class:"board-wrapper"},gt=["src"],pt={key:1,class:"last-move-layer",viewBox:"0 0 100 100",preserveAspectRatio:"none"},dt=["transform"],ft=["width"],kt=["points"],wt={class:"board-grid"},vt=["onClick"],mt=["src","alt"],yt={key:2,class:"coordinate rank-left"},Bt={key:3,class:"coordinate rank-right"},Ct={key:4,class:"coordinate file-top"},bt={key:5,class:"coordinate file"},Mt={class:"info-panel"},Tt={class:"status-card"},Et={class:"status-line"},Rt={class:"status-message"},Ft={key:0,class:"status-sub"},St={class:"panel log-panel"},Dt={class:"log-list"},Ut={key:0,class:"empty"},k=8,jt=Je({__name:"DwarvenTactics",setup(Kt){const Me=Ne(),Te={pawn:100,knight:320,bishop:330,rook:500,queen:900,king:1e4},ae={white:{pawn:Le,rook:ze,knight:Ye,bishop:Xe,queen:He,king:xe},black:{pawn:_e,rook:tt,knight:$e,bishop:et,queen:ot,king:st}},Ee=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(16).slice(2),V=(e,t)=>({id:Ee(),type:e,color:t,hasMoved:!1}),le=()=>{const e=Array.from({length:k},()=>Array(k).fill(null));return["rook","knight","bishop","queen","king","bishop","knight","rook"].forEach((n,o)=>{e[0][o]=V(n,"black"),e[1][o]=V("pawn","black"),e[6][o]=V("pawn","white"),e[7][o]=V(n,"white")}),e},Re=e=>e.map(t=>t.map(n=>n?{...n}:null)),ce=()=>({whiteKingSide:!0,whiteQueenSide:!0,blackKingSide:!0,blackQueenSide:!0}),B=y(le()),W=y(null),Ae=y(ce()),U=y(null),J=y([]),G=y([]),O=y(null),m=y(null),j=y(null),T=y("Dwarven tacticians await your opening."),q=y("white"),S=y(!1),Q=y(!1),E=y(null),L=y(null);let R=null,K=null;const N=te(()=>{const e={};return J.value.forEach(t=>{e[`${t.to.row}-${t.to.col}`]=t}),e}),F=te(()=>{if(!O.value)return null;const e=100/k,{from:t,to:n}=O.value,o=(t.col+.5)*e,s=(t.row+.5)*e,a=(n.col+.5)*e,g=(n.row+.5)*e,i=a-o,c=g-s,f=Math.hypot(i,c)||1,r=3,d=4,A=Math.max(0,f-d-r),l=Math.atan2(c,i)*180/Math.PI;return{x:o,y:s,angle:l,shaftLength:A,headLength:d}});te(()=>{const e={white:null,black:null};return B.value.forEach((t,n)=>{t.forEach((o,s)=>{(o==null?void 0:o.type)==="king"&&(e[o.color]={row:n,col:s})})}),e});const H=(e,t)=>{for(let n=0;n<k;n+=1)for(let o=0;o<k;o+=1){const s=e[n][o];if((s==null?void 0:s.type)==="king"&&s.color===t)return{row:n,col:o}}return null},Y=e=>e==="white"?"White":"Black",Z=e=>e==="white"?"black":"white",ie=e=>`${String.fromCharCode(97+e.col).toUpperCase()}${k-e.row}`,re=e=>{Ae.value={...e}},I=()=>{L.value!==null&&(window.clearTimeout(L.value),L.value=null)},Fe=()=>{G.value=[],O.value=null},ue=()=>{R&&(window.clearTimeout(R),R=null),m.value=null},he=()=>{K&&(window.clearTimeout(K),K=null),j.value=null},ge=e=>{ue(),he();const t=e.from.col-e.to.col,n=e.from.row-e.to.row,s=(Math.max(Math.abs(t),Math.abs(n))||1)*500;m.value={id:e.piece.id,dx:t,dy:n,duration:s},R=window.setTimeout(()=>{m.value=null,R=null},s+50);const a=e.captured,g=e.enPassantCapture??e.to;if(a){const i=ae[a.color][a.type];j.value={src:i,row:g.row,col:g.col};const c=Math.max(0,s-500);K=window.setTimeout(()=>{j.value=null,K=null},c)}},Se=()=>{I(),ue(),he(),B.value=le(),W.value=null,re(ce()),U.value=null,J.value=[],Fe(),T.value="Dwarven tacticians await your opening.",q.value="white",S.value=!1,Q.value=!1,E.value=null};Ge(()=>{I(),R&&window.clearTimeout(R),K&&window.clearTimeout(K)});const C=(e,t)=>e>=0&&t>=0&&e<k&&t<k,pe=()=>({enPassant:W.value?{...W.value}:null,castling:{...Ae.value}}),x=(e,t,n)=>{const o=n==="white"?-1:1,s=t.row+o;if(C(s,t.col-1)){const c=e[s][t.col-1];if((c==null?void 0:c.type)==="pawn"&&c.color===n)return!0}if(C(s,t.col+1)){const c=e[s][t.col+1];if((c==null?void 0:c.type)==="pawn"&&c.color===n)return!0}const a=[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]];for(const[c,f]of a){const r=t.row+c,d=t.col+f;if(!C(r,d))continue;const A=e[r][d];if((A==null?void 0:A.color)===n&&A.type==="knight")return!0}const g={rook:[[1,0],[-1,0],[0,1],[0,-1]],bishop:[[1,1],[1,-1],[-1,1],[-1,-1]]},i=(c,f)=>{for(const[r,d]of c){let A=t.row+r,l=t.col+d;for(;C(A,l);){const p=e[A][l];if(p){if(p.color===n&&(f.includes(p.type)||p.type==="queen"))return!0;break}A+=r,l+=d}}return!1};if(i(g.rook,["rook"])||i(g.bishop,["bishop"]))return!0;for(let c=-1;c<=1;c+=1)for(let f=-1;f<=1;f+=1){if(c===0&&f===0)continue;const r=t.row+c,d=t.col+f;if(!C(r,d))continue;const A=e[r][d];if((A==null?void 0:A.color)===n&&A.type==="king")return!0}return!1},_=(e,t)=>{const n=H(e,t);return n?x(e,n,Z(t)):!1},de=(e,t,n,o)=>{const s=e[t][n];if(!s)return[];const a=[],g=s.color==="white"?-1:1,i=s.color==="white"?6:1,c=s.color==="white"?0:7,f=(r,d,A)=>{const l={from:{row:t,col:n},to:{row:r,col:d},piece:s,captured:e[r][d],promotion:null,enPassantCapture:null,castleRookFrom:null,castleRookTo:null,annotation:null,...A};s.type==="pawn"&&r===c&&(l.promotion="queen"),a.push(l)};if(s.type==="pawn"){const r=t+g;if(C(r,n)&&!e[r][n]&&(f(r,n),t===i)){const d=t+g*2;C(d,n)&&!e[d][n]&&f(d,n)}for(const d of[-1,1]){const A=t+g,l=n+d;if(!C(A,l))continue;const p=e[A][l];if(p&&p.color!==s.color)f(A,l);else if(o.enPassant&&o.enPassant.row===A&&o.enPassant.col===l){const h={row:t,col:l};f(A,l,{captured:e[h.row][h.col],enPassantCapture:h})}}}else if(s.type==="knight")[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]].forEach(([d,A])=>{const l=t+d,p=n+A;if(!C(l,p))return;const h=e[l][p];(!h||h.color!==s.color)&&f(l,p)});else if(s.type==="bishop"||s.type==="rook"||s.type==="queen"){const r={bishop:[[1,1],[1,-1],[-1,1],[-1,-1]],rook:[[1,0],[-1,0],[0,1],[0,-1]]};(s.type==="bishop"?r.bishop:s.type==="rook"?r.rook:[...r.bishop,...r.rook]).forEach(([A,l])=>{let p=t+A,h=n+l;for(;C(p,h);){const b=e[p][h];if(!b)f(p,h);else{b.color!==s.color&&f(p,h);break}p+=A,h+=l}})}else if(s.type==="king"){for(let p=-1;p<=1;p+=1)for(let h=-1;h<=1;h+=1){if(p===0&&h===0)continue;const b=t+p,ee=n+h;if(!C(b,ee))continue;const Be=e[b][ee];(!Be||Be.color!==s.color)&&f(b,ee)}const r=o.castling,d=s.color==="white"?r.whiteKingSide:r.blackKingSide,A=s.color==="white"?r.whiteQueenSide:r.blackQueenSide,l=s.color==="white"?7:0;if(t===l&&n===4){if(d&&!e[l][5]&&!e[l][6]){const p=[4,5,6].every(b=>!x(e,{row:l,col:b},Z(s.color))),h=e[l][7];p&&(h==null?void 0:h.type)==="rook"&&h.color===s.color&&f(l,6,{castleRookFrom:{row:l,col:7},castleRookTo:{row:l,col:5},captured:null})}if(A&&!e[l][1]&&!e[l][2]&&!e[l][3]){const p=[4,3,2].every(b=>!x(e,{row:l,col:b},Z(s.color))),h=e[l][0];p&&(h==null?void 0:h.type)==="rook"&&h.color===s.color&&f(l,2,{castleRookFrom:{row:l,col:0},castleRookTo:{row:l,col:3},captured:null})}}}return a},De=(e,t,n)=>{const o={...e},{from:s,piece:a,castleRookFrom:g}=t;if(a.type==="king"&&(a.color==="white"?(o.whiteKingSide=!1,o.whiteQueenSide=!1):(o.blackKingSide=!1,o.blackQueenSide=!1)),a.type==="rook"&&(a.color==="white"?(s.row===7&&s.col===0&&(o.whiteQueenSide=!1),s.row===7&&s.col===7&&(o.whiteKingSide=!1)):(s.row===0&&s.col===0&&(o.blackQueenSide=!1),s.row===0&&s.col===7&&(o.blackKingSide=!1))),g&&(a.color==="white"?(o.whiteKingSide=!1,o.whiteQueenSide=!1):(o.blackKingSide=!1,o.blackQueenSide=!1)),(n==null?void 0:n.type)==="rook"){const i=t.to;n.color==="white"?(i.row===7&&i.col===0&&(o.whiteQueenSide=!1),i.row===7&&i.col===7&&(o.whiteKingSide=!1)):(i.row===0&&i.col===0&&(o.blackQueenSide=!1),i.row===0&&i.col===7&&(o.blackKingSide=!1))}return o},fe=(e,t,n)=>{const o=Re(e),s={...t.piece,hasMoved:!0},a=t.captured??null;if(o[t.from.row][t.from.col]=null,t.enPassantCapture&&(o[t.enPassantCapture.row][t.enPassantCapture.col]=null),t.castleRookFrom&&t.castleRookTo){const c=o[t.castleRookFrom.row][t.castleRookFrom.col];c&&(o[t.castleRookFrom.row][t.castleRookFrom.col]=null,o[t.castleRookTo.row][t.castleRookTo.col]={...c,hasMoved:!0})}t.promotion&&(s.type=t.promotion),o[t.to.row][t.to.col]=s;let g=null;t.piece.type==="pawn"&&Math.abs(t.to.row-t.from.row)===2&&(g={row:(t.from.row+t.to.row)/2,col:t.from.col});const i=De(n.castling,t,a);return{board:o,enPassant:g,castling:i}},ke=e=>{const t=pe(),n=[];for(let o=0;o<k;o+=1)for(let s=0;s<k;s+=1){const a=B.value[o][s];if(!a||a.color!==e)continue;de(B.value,o,s,t).forEach(i=>{const c=fe(B.value,i,t);_(c.board,e)||n.push({...i,outcome:c})})}return n},Ue=e=>{const t={pawn:"Pawn",knight:"Knight",bishop:"Bishop",rook:"Rook",queen:"Queen",king:"King"};if(e.castleRookFrom)return e.to.col===6?"Kingside castle":"Queenside castle";const n=e.captured||e.enPassantCapture?" (capture)":"",o=e.promotion?`, promotes to ${t[e.promotion]}`:"";return`${t[e.piece.type]} ${ie(e.from)} -> ${ie(e.to)}${n}${o}`},we=e=>{B.value=e.board,W.value=e.enPassant?{...e.enPassant}:null,re(e.castling)},ve=e=>{const t=`${Y(e.piece.color)}: ${Ue(e)}`;O.value={from:{...e.from},to:{...e.to}},G.value=[t,...G.value]},$=(e,t)=>{const n=t??ke(e),o=_(B.value,e);return n.length?(T.value=o?`${Y(e)} is in check!`:e==="white"?"Your move. Hold the line.":"Greenskins are plotting...",{finished:!1,moves:n}):(Q.value=!0,o?(E.value=Z(e),T.value=`${Y(Z(e))} wins by checkmate.`):(E.value="draw",T.value="Stalemate. Honor shared."),S.value=!1,I(),{finished:!0,moves:n})},je=(e,t)=>{if(Q.value||q.value!=="white")return;const n=`${e}-${t}`,o=N.value[n];if(o){Ke(o);return}const s=B.value[e][t];if(!s){U.value=null,J.value=[];return}if(s.color!=="white"){Ze({title:"Black piece",description:"Only the white host answers to you.",variant:"destructive"});return}const a=pe(),g=de(B.value,e,t,a),i=[];g.forEach(c=>{const f=fe(B.value,c,a);_(f.board,"white")||i.push({...c,outcome:f})}),U.value={row:e,col:t},J.value=i},Ke=e=>{if(m.value||(ge(e),we(e.outcome),ve(e),me()))return;U.value=null,J.value=[],q.value="black";const t=$("black");t.finished||Qe(t.moves)},Pe=e=>{let t=0;for(let n=0;n<k;n+=1)for(let o=0;o<k;o+=1){const s=e[n][o];if(!s)continue;const a=Te[s.type];t+=s.color==="white"?a:-a}return t},me=()=>{const e=!!H(B.value,"white"),t=!!H(B.value,"black");return e&&t?!1:(Q.value=!0,e&&!t?(E.value="white",T.value="White wins by capturing the black king."):!e&&t?(E.value="black",T.value="Black wins by capturing the white king."):(E.value="draw",T.value="Both kings fall. The war ends in ashes."),S.value=!1,I(),!0)},Qe=e=>{S.value=!0,I(),L.value=window.setTimeout(()=>{m.value?R=window.setTimeout(()=>ye(e),m.value.duration):ye(e)},600)},ye=e=>{if(Q.value){S.value=!1;return}const t=e.length?e:ke("black");if(!t.length){S.value=!1,$("black",t);return}let n=t[0],o=1/0;t.forEach(a=>{const g=Pe(a.outcome.board);(g<o-.5||Math.abs(g-o)<.5&&Math.random()<.25)&&(o=g,n=a)});const s=()=>{if(ge(n),we(n.outcome),ve(n),me())return;q.value="white",S.value=!1,$("white").finished||(T.value="Your move. Outsmart the greenskins.")};m.value?R=window.setTimeout(s,m.value.duration):s()};return(e,t)=>(v(),w("div",lt,[u("header",ct,[u("div",At,[X(P(Ve),{class:"icon"}),t[1]||(t[1]=u("div",null,[u("h1",{class:"title-main"},"Dwarven Tactics")],-1))]),u("div",it,[u("button",{type:"button",class:"back-button",onClick:t[0]||(t[0]=n=>P(Me).push("/"))},[X(P(We),{class:"icon"}),t[2]||(t[2]=Ce(" Back ",-1))]),u("button",{type:"button",class:"secondary-button",onClick:Se},[X(P(qe),{class:"icon"}),t[3]||(t[3]=Ce(" Reset Match ",-1))])])]),t[5]||(t[5]=u("section",{class:"hero"},[u("div",null,[u("p",{class:"eyebrow"},"Dwarves vs. Greenskins"),u("p",{class:"intro"}," Command the Dwarven host agains the greenskin onslaught. Every piece obeys classic chess rulesâ€”win by defeating the orkish boss. ")])],-1)),u("div",rt,[u("section",ut,[u("div",ht,[j.value?(v(),w("div",{key:0,class:"capture-overlay",style:oe({"--capture-top":`${(j.value.row+.5)/k*100}%`,"--capture-left":`${(j.value.col+.5)/k*100}%`})},[u("img",{src:j.value.src,alt:"captured piece"},null,8,gt)],4)):M("",!0),F.value?(v(),w("svg",pt,[u("g",{transform:`translate(${F.value.x}, ${F.value.y}) rotate(${F.value.angle})`,fill:"rgba(255, 224, 138, 0.55)"},[u("rect",{x:"0",y:-.7,width:F.value.shaftLength,height:"1.4",rx:"0"},null,8,ft),u("polygon",{points:`
                  ${F.value.shaftLength},-2
                  ${F.value.shaftLength+F.value.headLength},0
                  ${F.value.shaftLength},2
                `},null,8,kt)],8,dt)])):M("",!0),u("div",wt,[(v(!0),w(z,null,se(B.value,(n,o)=>(v(),w(z,{key:`row-${o}`},[(v(!0),w(z,null,se(n,(s,a)=>{var g,i;return v(),w("button",{key:`${o}-${a}`,type:"button",class:ne(["board-square",[(o+a)%2===0?"light":"dark",{selected:U.value&&U.value.row===o&&U.value.col===a},{targetable:N.value[`${o}-${a}`]}]]),style:oe({backgroundImage:`url(${(o+a)%2===0?P(nt):P(at)})`,backgroundColor:(o+a)%2===0?"#5f7f4a":"#5a4a36",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),onClick:c=>je(o,a)},[s?(v(),w("img",{key:0,class:ne(["piece-img",[s.color,{animating:m.value&&m.value.id===s.id}]]),src:ae[s.color][s.type],alt:`${s.color} ${s.type}`,style:oe(m.value&&m.value.id===s.id?{"--move-x-percent":`${m.value.dx*139}%`,"--move-y-percent":`${m.value.dy*139}%`,"--move-duration":`${m.value.duration}ms`}:void 0)},null,14,mt)):M("",!0),N.value[`${o}-${a}`]?(v(),w("span",{key:1,class:ne(["move-dot",{capture:((g=N.value[`${o}-${a}`])==null?void 0:g.captured)||((i=N.value[`${o}-${a}`])==null?void 0:i.enPassantCapture)}])},null,2)):M("",!0),a===0?(v(),w("span",yt,D(k-o),1)):M("",!0),a===k-1?(v(),w("span",Bt,D(k-o),1)):M("",!0),o===0?(v(),w("span",Ct,D(String.fromCharCode(65+a)),1)):M("",!0),o===k-1?(v(),w("span",bt,D(String.fromCharCode(65+a)),1)):M("",!0)],14,vt)}),128))],64))),128))])])]),u("aside",Mt,[u("div",Tt,[u("div",Et,[X(P(Oe),{class:"icon"}),u("span",null,D(S.value?"Black is thinking...":Q.value?"Final verdict":"Awaiting move"),1)]),u("div",Rt,D(T.value),1),E.value?(v(),w("p",Ft," Result: "+D(E.value==="draw"?"Stalemate":`${Y(E.value)} victory`),1)):M("",!0)]),u("section",St,[t[4]||(t[4]=u("div",{class:"panel-header"},[u("h3",null,"Move Log"),u("p",{class:"panel-sub"},"All moves (latest first)")],-1)),u("ul",Dt,[G.value.length?M("",!0):(v(),w("li",Ut,"No moves recorded yet.")),(v(!0),w(z,null,se(G.value,n=>(v(),w("li",{key:n},D(n),1))),128))])])])])]))}}),Gt=Ie(jt,[["__scopeId","data-v-7bab6d17"]]);export{Gt as default};
